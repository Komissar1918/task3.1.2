<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>

</head>
<body>

<h2>Users</h2>
<table border="1" cellpadding="5">
<tr>
    <th>Name</th>
    <th>Surname</th>
    <th>Email</th>
    <th>Role</th>
    <th>Action</th>
</tr>
  <div th:each="user : ${users}">
   <tr>
         <td th:text="${user.getName()}"></td>
         <td th:text="${user.getSurname()}"></td>
         <td><a th:text="${user.getEmail()}" th:href="@{/{id}(id=${user.getId()})}"></a></td>
         <td>
           <th:block th:each="role: ${user.getRoles()}"
                     th:text="${role.getName.replace('ROLE_', '')} + ' '"></th:block>
         </td>
         <td>
             <form th:method="GET" th:action="@{/{id}/edit(id=${user.getId()})}">
                 <input type="submit" value="Edit">
             </form>
             <form th:method="DELETE" th:action="@{/admin/{id}(id=${user.getId()})}">
                 <input type="submit" value="Delete"/>
             </form>
        </td>
   </tr>

  </div>
</table>

<br>
<input type="button" value="Add" onclick="window.location.href='/addNewUser'">
<br>
<a href="/logout">Logout</a>

</body>
</html>